# Реализация каждого из критерия оценки:

## 1. Число проанализированных характеристик текстов

Выделено более 40 признаков.

Список всех проанализированных признаков - [analysed_features.md](https://git.2035.university/maia-06/project2035/-/blob/master/analysed_features.md)

## 2. Использование дополнительных характеристик текстов, дающих более выраженные различия / повышающих точность прогнозирования

Помимо выявления стандартных статистических особенностей текста (длина сообщений, кол-во знаков препинания, кол-во существительных, N грамы и т.д.), также использовали более продвинутые методы: определение тональности тектса, использование в тексте именнованных сущностей (NER), тематическое моделирование (признак не зашел, не стали использовать)

## 3. Качество выявления использованной характеристики

Способы выявления характеристик наглядно показаны в файле - [Генерация признаков](https://git.2035.university/maia-06/project2035/-/blob/master/3_Feature_Generation.ipynb)

## 4. Для предсказания показателей диагностик — число показателей, для которых построена модель и качество её предсказания.

- Архетип "Боец" - точность 90%
- Архетип "Аналитик" - точность 75%
- Архетип "Исполнитель" - точность 73%
- Архетип "Эксперт" - точность 72%
- Архетип "Эмпат" - точность 72%
- Архетип "Визионер" - точность 71%

- Мотиватор "Избегание негатива, размеренность, безопасность" - MAE 1.6 (mean absolute error)
- Мотиватор "Преодоление сложностей, препятствий" - MAE 2.2
- Мотиватор "Осмысленность деятельности, собственная значимость" - MAE 1
- Мотиватор "Социальный элемент, дружба, влияние, конкуренция" - MAE 1.3
- Мотиватор "Самосовершенствование, работа над собой, труд" - MAE 2.2
- Мотиватор "Достижение, стремление к лидерству" - MAE 1.7


## 5. Уникальность решения

Для прогноза архетипа учащегося используем двухуровневую модель (stacking):
- Модель А уровня 1 - прогнозирует архетип, исходя из семантики (tf idf по N граммам, исключая часто встречащиеся слова, т.н. стопслова);
- Модель В уровня 1 - прогнозирует архетип, исходя из тональности/сентимента текста (положительный, нейтральный, негативный, вежливый) и статистических признаков типа длина сообщения, кол-во знаков препинания.
- Модель уровня 2 - прогнозирует архетип на основе прогнозов Модели А и Модели В.

Разработанную модель автоматического определения архетипа предлагается использовать в качестве одного из компонентов рекомендательной системы, которая предлагает обучающемуся релевантные его архетипу курсы.

Схема работы рекомендательной системы:
![]('nlp_service/schema.PNG')

Демо работы NLP сервиса и рекомендательной системы - [здесь](https://git.2035.university/maia-06/project2035/-/blob/master/nlp_service/demo.mp4)


## 6. Баланс полноты и сложности алгоритма

Для выделения признаков тональности текста и именнованных сущностей используются предобученные нейронные сети.

Для прогнозирования архетипа используется двухуровневая модель (stacking):
- В качестве моделей 1 уровня используется алгоритм ближайших соседей (kNN)
- Модель 2 уровня - градиентный бустинг (реализация LightGBM)

Для прогнозирования показателей мотиваций используется градиентный бустинг (реализация XGBoost)

## 7. Требуемая вычислительная мощность для работы модели

Мощностей модели практически не требуют.
Быстро обучаются и быстро отрабатывают на обычном ноутбуке без GPU (RAM 8GB, 128 SSD).
Скорость - за счет отсутствия необходимости обучать тяжеловесные нейронные сети.


## 8. Описание используемых фреймворков и библиотек

Для выделения признаков, моделирования и веб-сервиса используются исключительно open source библиотеки и фреймворки.

Feature Extraction:
- NLTK
- pymorphy2
- DeepPavlov

ML:
- scikit-learn
- LightGBM
- XGBoost

MLaaS (ML as a Service):
- python3+HTML/CSS
- Flask

## 9. Уровень реализации (макет, интерфейс, функциональность)

Пройден весь путь от разработки ML модели до создания функционирующего прототипа (MVP) в виде веб-сервиса.

Демо работы NLP сервиса и рекомендательной системы - [здесь](https://git.2035.university/maia-06/project2035/-/blob/master/nlp_service/demo.mp4)

## 10. Наличие описания моделей прогнозирования

Все детали реализации модели прогнозирования архетипа - в [этом ноутбуке](https://git.2035.university/maia-06/project2035/-/blob/master/6_Model_Classifier.ipynb)

Детали по модели прогнозирования значений мотиваторов - [здесь](https://git.2035.university/maia-06/project2035/-/blob/master/7_Model_Regressor.ipynb)

Для прогнозирования архетипа используется двухуровневая модель (stacking):
- В качестве моделей 1 уровня используется алгоритм ближайших соседей (kNN)
- Модель 2 уровня - градиентный бустинг (реализация LightGBM)

Для прогнозирования показателей мотиваций используется градиентный бустинг (реализация XGBoost)

Для обеих моделей использовались следующие признаки:
- Среднее количество сообщений с позитивной тональностью (sentiment_positive)
- Среднее количество сообщений с негативной тональностью (sentiment_negative)
- Среднее количество сообщений с нейтральной тональностью (sentiment_neutral)
- Среднее количество сообщений, содержащих бессмыслицу, случайный набор букв (sentiment_skip)
- Среднее количество сообщений, содержащих вежливые обороты (sentiment_speech)
- Среднее количество используемых NER (именованных сущностей) (ner)
- Средняя длина сообщений (answer_len)
- Среднее количество слов в заглавной буквы (upper_case_word_count)
- Среднее количество знаков препинания в сообщении (punctuation_count)

## 11. Сопроводительные материалы (презентация, описание)

Ссылка на [презентацию](https://git.2035.university/maia-06/project2035/-/blob/master/%D0%9F%D1%80%D0%B5%D0%B7%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F.pdf)

Демо работы прототипа: NLP сервиса и рекомендательной системы - [здесь](https://git.2035.university/maia-06/project2035/-/blob/master/nlp_service/demo.mp4)

В README.md представлен гайд по технической реализации ML моделей (от агрегации данных до обучения алгоритмов) в jupyter notebook.

## 12. Возможность развёртывания модели в качестве сервиса на заданном сервере

Модель автоматического определения уже обернута в веб-сервис с помощью Flask. Для использования в проде: отвязать фронтенд (html странички) и оставить только API (app.py), к которому будет обращаться непосредственно платформа Университет 20.35.

Код, сериализованные модели, инструкция и демо в папке [nlp_service](https://git.2035.university/maia-06/project2035/-/tree/master/nlp_service).

## 13. Базовая документация по работе с ПО, реализующем модель

Инструкция для запуска NLP сервиса представлена в README.md папки [nlp_service](https://git.2035.university/maia-06/project2035/-/tree/master/nlp_service).

Код в jupyter notebook'ах снабжен комментариями и объяснениями в markdown ячейках.

## 14. Полезность для пользователя
Разработанный NLP сервис позволяет получить рекомендации по релевантным курсам на основе автоматического определения архетипа по текстовым данныи пользователя.
Предполагается, что в дальнейшем при расширении пулла ML моделей, прогнозирующих показатели диагностик по тексту, сократится число тестов, которые пользователю необходимо пройти для составления профиля.

## 15. Наличие описанного user-сценария

Сценарий использования модели прогнозирования архетипа в качестве сервиса описан - [здесь](https://git.2035.university/maia-06/project2035/-/blob/master/nlp_service/use_case.md)

Также сценарий наглядно продемонстрирован в [демо](https://git.2035.university/maia-06/project2035/-/blob/master/nlp_service/demo.mp4)
